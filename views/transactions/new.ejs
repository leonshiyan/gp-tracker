<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>
<main>
  <h1><%= title %></h1>
  <div class="container-md" >
    <% if (user) { %>
      <form 
      class="row g-4 needs-validation" 
      action="/transactions" 
      method="POST"
      >
      <div class="col-md-6">
        <label for="amount-input" class="form-label">Amount($):</label>
        <input type="text" class="form-control text-light bg-dark" placeholder="Total Spend (e.g 300)" name="amount" id="amount-input" required>
        <div class="valid-feedback">
            Looks good!
        </div>
      </div>
      <div class="col-md-6">
        <label for="gas-amount-input" class="form-label">Gas Amount(L):</label>
        <input type="text" class="form-control text-light bg-dark" placeholder="Total Filled (e.g 30)" name="gasAmount" id="gas-amount-input" required>
        <div class="valid-feedback">
          Looks good!
        </div>
      </div>
      <div class="col-md-4">
        <label for="gas-type-select" class="form-label ">Gas Type:</label>
        <select name="gasType" class="form-select text-light bg-dark" id="gas-type-select" required>
          <option value="87">87</option>
          <option value="89">89</option>
          <option value="91">91</option>
          <option value="94">94</option>
        </select>
        <div class="valid-feedback">
          Looks good!
        </div>
      </div>
      <div class="col-md-8">
        <label for="station" class="form-label">Select Station</label>
        <select name="station" class="form-select text-light bg-dark" id="station-select" required>
          <% stations.forEach(station => { %>
            <option value="<%= station._id %>"><%= station.name %>:<%= station.address %> </option>
          <% }) %>
        </select>
        <div class="valid-feedback">
          Looks good!
        </div>
        </div>
        <div class="col-12">
          <button class="btn btn-primary" type="submit">Add Transaction</button>
        </div>
      </form>
  </div>
</main>
<% } else { %>
  <div class="mx-auto" style="width: 500px;">
    <h2>Please Login to Add Transaction</h2>
  </div>
<% } %> 
<%- include('../partials/footer') %>